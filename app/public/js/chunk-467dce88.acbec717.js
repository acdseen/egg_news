(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-467dce88"],{"8bd6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Tabs",{attrs:{animated:!1,type:"card",value:"1"},on:{"on-click":t.changeList}},[a("TabPane",{attrs:{label:"公司新闻",name:"1"}},[a("Table",{attrs:{columns:t.columns,data:t.newsListData}})],1),a("TabPane",{attrs:{label:"行业新闻",name:"0"}},[a("Table",{attrs:{columns:t.columns,data:t.newsListData}})],1)],1),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.total,current:t.searchForm.pageNum},on:{"on-change":t.changePage}})],1)])],1)},r=[],s=(a("96cf"),a("1da1")),i=(a("ac6a"),a("456d"),a("aa2a")),o={data:function(){var t=this;return{total:0,columns:[{title:"新闻标题",key:"articleTitle"},{title:"新闻作者",key:"newsAutor"},{title:"发布时间",key:"publishTime"},{title:"操作",key:"action",fixed:"right",width:160,render:function(e,a){return e("div",[e("Button",{props:{type:"text",size:"small"},on:{click:function(){Object.keys(a.row).map(function(t){localStorage[t]=a.row[t]}),t.$router.push({path:"newslist/newsedit",query:{handle:"edit"}})}}},"修改"),e("Poptip",{props:{confirm:!0,title:"确认删除吗？"},on:{"on-ok":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].remove(a.row._id);case 2:n=e.sent,n.code||(t.$message.success("删除成功！"),t.getData());case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},[e("Button",{props:{type:"text",size:"small"}},"删除")])])}}],newsListData:[],searchForm:{pageNum:1,pageSize:10,data:{newsType:1}}}},created:function(){this.getData()},methods:{getData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].list(this.searchForm);case 2:e=t.sent,e.code||(this.newsListData=e.data.items,this.total=e.data.total);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),changeList:function(t){this.searchForm.pageNum=1,this.searchForm.data.newsType=t,this.getData()},changePage:function(t){this.searchForm.pageNum=t,this.getData()}}},c=o,u=a("2877"),l=Object(u["a"])(c,n,r,!1,null,null,null);e["default"]=l.exports},aa2a:function(t,e,a){"use strict";var n=a("66df"),r="/api/news",s=function(t){return n["a"].request({url:"".concat(r),params:t,method:"get"})},i=function(t){return n["a"].request({url:"".concat(r),data:t,method:"post"})},o=function(t){return n["a"].request({url:"".concat(r,"/").concat(t._id),data:t,method:"put"})},c=function(t){return"string"===typeof t&&(t=[t]),n["a"].request({url:"".concat(r,"/").concat(t[0]),data:{ids:t},method:"delete"})},u=function(t){return n["a"].request({url:"/api/uploadimg",data:t,method:"post"})};e["a"]={list:s,create:i,update:o,remove:c,uploadImg:u}}}]);
//# sourceMappingURL=chunk-467dce88.acbec717.js.map